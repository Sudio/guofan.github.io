<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../favicon.ico"> -->

    <title>EE5731: Assignment 2</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../bootstrap-3.3.6-dist/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../jumbotron.css" rel="stylesheet">
  </head>

  <body>
    <div class="container" style="font-size:16px">
      <center>
	<h3> Assignment 2: Depth Estimation From Stereo and Video</h3>
	<h4>Deadline: November 18 (Saturday), 2017 at 5pm</h4>
      </center>
      <br>

      <b>Read carefully</b>: Academic integrity must be strictly followed. Copying-and-pasting from other's
      code or from any sources is not allowed. Software will be used
      to detect any form of source code plagiarism. You must write a
      report in a pdf format as instructed below (and indicate the parts and number
      clearly). Your submitted code must be grouped/separated 
      into the same parts in the instructions. In your submission, you
      must provide us with all necessary libraries.
      The maximum score for
      completing part 1 until part 4 is 80. More scores are given
      for submission on part 5. 
      <br>
      <br>
      <hr>
      <h4><b>Part 1: Noise Removal</b></h4>
      <br>
      <ol>
	<li> Download the code of the graphcuts matlab wrapper from
	this link: <a href="http://vision.ucla.edu/~brian/gcmex.html" target="_blank">here</a>. Read the readme file to know how to set the edges of the graph.
	<li>Write a matlab program to clean up noise of the image
	  below using  an MRF  and  the binary graphcuts. See the
	  pseudocode in C <a href="pseudocode.html">here</a>.
	<li> Show your result in the report.
	<li> Change the value of the weighting factor (lambda) of the prior
	term, and show some different results in your report. You must
	state the values of your lambda.
	  <br>
	  <br>
	  <img src="bayes_in.jpg" alt="input" width="504" height="328" /> 
	  <img src="bayes_out.jpg" alt="output" width="504" height="328" /> 
	  <br>
	  <center>
	    <br>
	  <b>Figure 1. Left: Input noisy image. Right: Expected
	    output.</b>
	  </center>
      </ol>
      <hr>
      <br>
      <h4><b>Part 2: Depth from Rectified Stereo Images</b></h4>
      <br>
      <ol>
	<li> Write a matlab program to estimate a depth map from a pair of
	  rectified images below using MRF and multiple label graphcuts.
	  <br>
	  <br>
	  <img src="im2.png" alt="input" width="504" height="328" /> 
	  <img src="im6.png" alt="output" width="504" height="328" /> 
	  <br>
	  <br>
	<li> The depth map groundtruth:
	  <br>
	  <img src="depth.png" alt="groundtruth" width="504" height="328" /> 
	  <li> Show your result in the report.
      </ol>
      <hr>
      <br>
      <h4><b>Part 3: Depth from Stereo:</b></h4>
      <br>
      <ol>
      
	<li> Write a matlab program to estimate a depth from a pair of
	  calibrated images below using MRF and graphcuts. The camera
	  matrices are available <a href="cameras.txt"
				    target="_blank">here</a>. Note that, for finding the epipolar
	  lines using the provided camera matrices, you might want to use
	  the following equation: 
	  <img src="eq.png" alt="input" width="504" />
	  <br>

	  <br>
	  <br>
	  <img src="test00.jpg" alt="input" width="504" height="328" /> 
	  <img src="test09.jpg" alt="output" width="504" height="328" /> 
	  <br>
	  <br>
	  
	<li>Note that:
	  <ul>
	    <li> The images, camera matrices, and last equation are
	      borrowed from 
	      this paper: <a href="http://www.cad.zju.edu.cn/home/bao/pub/Consistent_Depth_Maps_Recovery_from_a_Video_Sequence.pdf" target="_blank">pdf</a>. In this paper, the mathematical
	      notations are different from what I taught in
	      class. However, if you use the notations consistently
	      following the paper, then you should be fine.
	    <li> If you want to understand the equation, read this short
	      report here: <a href="https://www.dropbox.com/s/glyv9ycxtpxnpzo/depth_report.pdf?dl=0"
			      target="_blank">pdf</a>.
	  </ul>
	  <li> Show your result in the report.
      </ol>
      
      <hr>
      <br>
      <h4><b>Part 4: Depth from Video -- Basic:</b></h4>
      <br>
      <ol>
     <li> Write a program in matlab to estimate depth map from video
     using this method: <a href="http://www.cad.zju.edu.cn/home/bao/pub/Consistent_Depth_Maps_Recovery_from_a_Video_Sequence.pdf"
	       target="_blank">Depth Map from Video Sequence</a>.
      <li> For the input, use a video you can download
      from: <a href="http://www.cad.zju.edu.cn/home/gfzhang/projects/videodepth/data/"
	       target="_blank">here</a>. You need to process only one
      set of data.
      <li> The camera parameters of the video are provided in the
	zipped file in the download. 
      <li> The minimum number of frames to process is 10
      frames. However, the grading will include the quality of your
	depth map, and the more frames you process, the higher the
      quality of your depth.
	<li>  Unlike the original steps in the paper, in this part you only need to
	  implement the initialization and bundle optimization steps.
	<li> Show some of your results (minimum 10 depth maps) in your
	  report.
	<li> An example of the expected result:
	  <br>
	  <br>
	  <img src="test0100.jpg" width="504" height="328" /> 
	  <img src="depth0100.png" width="504" height="328" /> 
	  <br>
	  
      </ol>

      <hr>
      <h4><b>Part 5: Depth from Video -- Advanced:</b></h4>
      <br>
      You will receive more scores if you include the following
	  implementation in your submission. To be graded, you must
      provide some explanation about your implementation and results
      in your report. You can choose any of the options below:
      <ol>
	<li> Full implementation of the paper  <a href="http://www.cad.zju.edu.cn/home/bao/pub/Consistent_Depth_Maps_Recovery_from_a_Video_Sequence.pdf"
	       target="_blank">Depth Map from Video Sequence</a> (all
	  steps) on a full set of the provided video clip.
	<li> Find the drawbacks of the paper, and implement your
	solutions. For this, in the report, you must explain the
	drawbacks, show the evidence, discuss how your solutions solve
	the drawback, and show
	the improved results.
      </ol>
      In the report, you  must mention and briefly discuss what you
      have done for part 5, and
      show the results that represent what you have done.

      
      
      <br>
      <hr>
      <h4><b>Submission:</b></h4>
      <p>
	Submit your <b>codes and report</b> via IVLE</b>. Again, your
	codes must be grouped/separated based on the parts above. The
	report must be in a pdf format.
      </p>

      <br>	  <br>

      <br>
      
</div>      
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
  </body>
  <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
<script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-13131132-3");
  pageTracker._trackPageview();
  } catch(err) {}</script>
</html>
